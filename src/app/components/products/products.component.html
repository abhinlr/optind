<section id="products" class="position-absolute">
  <div class="sidebar-container position-sticky top-0 col-md-3">
    <app-sidebar-header [isProductsPage]="true" [video]="!!product.specimg" [feature]="product.features.length>0"
                        [spec]="product.specs.length>0"></app-sidebar-header>
  </div>
  <div class="col-md-10 text-center arrow-section mx-auto">
    <a (click)="navigateToSection('section-2')"><img src="/images/move-to-bottom.svg" alt=""></a>
  </div>
  <div class="services-container">
    <div class="back cursor-pointer d-flex justify-content-end align-items-center gap-2 text-white ">
      <a routerLink="/" class="back-arrow"><span><img src="/images/back.svg" alt="Back">Back</span></a>
    </div>
    <section id="section-1" class="section-1">
      <div class="main-title w-100 row" [ngStyle]="{'background-image':'url('+product.about.bg+')'}">
        <div class="col-md-6 col-sm-12 prod-image">
          <img [src]="product.about.image" alt="" [ngStyle]="{'visibility':'hidden'}">
        </div>
        <div class="col-md-6 col-sm-12  prod-data">
          <div class="prod-title">
            <h3>Product {{ product.about.number }}</h3>
            @if (product.about.subname) {
              <h2>{{ product.about.subname }}</h2>
            }
            <h1>{{ product.about.name }}</h1>
            <p class="description mb-0">{{ [product.about.description] }}</p>
            @if (product.id == 4) {
              <ol class="mb-0">
                <li>2 high reflectivity mirrors (99.9%)</li>
                <li>1 collimating lens</li>
                <li>1 focusing lens</li>
                <li>Light source: high-intensity 3W white LED</li>
                <li>Detector: Ocean Optics QePro</li>
              </ol>
              <p class="my-0">This has been tested multiple times, and the results were used with 100% confidence.</p>
            }
          </div>
        </div>
      </div>
    </section>
    @if (product.features.length > 0) {
      <section id="section-2" class="section-1 pt-4">
        <div class="title main-title w-100 row justify-content-end features-block">
          <div class="col-md-6 ">
            <h3>Features</h3>
            @if (product.features) {
              <ul class="features-list">
                @for (feature of product.features; track $index) {
                  <li class="feature d-flex align-items-baseline">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M11.1114 5.66667L6.96322 10.3333L4.88889 8M1 12.5113V3.48904C1 2.61785 1 2.18193 1.16955 1.84918C1.31868 1.55648 1.55648 1.31868 1.84918 1.16955C2.18193 1 2.61785 1 3.48904 1H12.5113C13.3825 1 13.8174 1 14.1502 1.16955C14.4429 1.31868 14.6815 1.55648 14.8306 1.84918C15 2.1816 15 2.617 15 3.48649V12.5139C15 13.3834 15 13.8182 14.8306 14.1506C14.6815 14.4433 14.4429 14.6815 14.1502 14.8306C13.8178 15 13.383 15 12.5135 15H3.48649C2.617 15 2.1816 15 1.84918 14.8306C1.55648 14.6815 1.31868 14.4433 1.16955 14.1506C1 13.8178 1 13.3825 1 12.5113Z"
                        stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <p class="ms-2">{{ feature }}</p>
                  </li>
                }
              </ul>
            }
          </div>
        </div>
      </section>
    }
    @if (product.cardlist) {
      <section id="section-4" class="section-2 ">
        <div class="title main-title w-60 row card-block">
          @for (card of product.cardlist; track $index) {
            <div class="col-md-3">
              <div class="card w-80">
                <h2>{{ card.title }}</h2>
                <img [src]="card.img" alt="">
              </div>
            </div>
          }
        </div>
      </section>
    }
    @if (product.specs && product.specs.length > 0) {
      <section id="section-3" class="section-3 ">
        <div class="title main-title w-100 row justify-content-end ">
          <div class="col-md-6 ">
            <h2 style="padding-bottom:25px">Product Specifications</h2>
            @for (spec of product.specs; track $index) {
              <div class="row">
                <div class="col-md-6 spec-title">
                  <h3>{{ spec.key }}</h3>
                  @for (desc of spec.description; track $index) {
                    <p>{{ desc }}</p>
                  }
                </div>
                <div class="col-md-6 spec-value">
                  <h4>{{ spec.value }}</h4>
                </div>
              </div>
            }
            @if (product.specimg) {
              <div class="col-md-12" id="video">
                <img [src]="product.specimg" alt="">
              </div>
            }
            @if (product.video) {
              <div class="col-md-12 my-4" id="video-container">
                <video [src]="product.video" controls></video>
              </div>
            }
          </div>
        </div>
      </section>
    }
    @if(product.id !==1){
      <div class="col-md-12" id="mobile-prod-img">
        <img [src]="'/images/p'+product.id+'.png'" alt="">
      </div>
    }
  </div>
  <div class="w-100 bg-white" id="footer">
    <app-footer></app-footer>
  </div>
</section>

